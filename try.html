<!DOCTYPE HTML>
<html>

  <head>
    <title>try saintmarc</title>

    <script src="spec/jaabro.js"></script>
    <script src="src/saintmarc.js"></script>
    <!--script src="helpers.js"></script-->

    <!--link
      rel="stylesheet"
      href="https://meyerweb.com/eric/tools/css/reset/reset.css"
      type="text/css" /-->
    <style>
      textarea {
        width: 100%;
        height: 21em;
      }
    </style>
  </head>

  <body>

    <h1>saintmarc</h1>

    <h2>in:</h2>
    <textarea id="in">
This is a test.

These are opportunities:

* free range chicken meat
* deer meat
* eggs

Counting to 3:

0. one,
0. two,
0. three!
    </textarea>
    <h2>out:</h2>

    <script>

      var clog = console.log;

      var elt = function(sel) { return document.querySelector(sel); };
      var elts = function(sel) { return document.querySelectorAll(sel); };

      var removeAll = function(sel) {
        elts(sel)
          .forEach(function(e) { e.parentElement.removeChild(e); });
        return undefined;
      };

      var on = function(sel, evName, evHandler) {
        elts(sel)
          .forEach(function(e) { e.addEventListener(evName, evHandler); });
        return undefined;
      };

      var render = function(ev) {
clog(ev.target.value);
        var e = SaintMarc.toHtml(ev.target.value);
clog(e);
      };
      on('#in', 'change', render);
      render({ target: elt('#in') });
    </script>

  </body>
</html>

